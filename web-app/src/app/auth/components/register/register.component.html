<div class="row">
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="col-lg-12">
      <mat-form-field>
        <input matInput placeholder="Email" type="email" formControlName="email">
      </mat-form-field>
    </div>
    <div class="col-lg-12">
      <mat-form-field>
        <input matInput placeholder="First name" type="text" formControlName="firstName">
      </mat-form-field>
    </div>
    <div class="col-lg-12">
      <mat-form-field>
        <input matInput placeholder="Last name" type="text" formControlName="lastName">
      </mat-form-field>
    </div>
    <div class="col-lg-12">
      <mat-form-field>
        <input matInput placeholder="Password" type="password" formControlName="password">
      </mat-form-field>
    </div>

    <p>It is required to add 5 images in order to perform face authentication. You need to add {{5 - files.length}} more.</p>

    <mat-list>
      <mat-list-item *ngFor="let img of files; let i = index">
        <p matLine> Image {{i+1}}</p>
        <img [src]="img | safeUrl" matListAvatar alt="register-image-{{i}}">
        <button (click)="deleteImage(i)" mat-icon-button color="warn" aria-label="Example icon button with a home icon">
          <mat-icon>delete</mat-icon>
        </button>
      </mat-list-item>
    </mat-list>

    <input class="form-control" type="file"
           (change)="addImages($event)" multiple
           #fileInput style="display: none"
    >
    <p>Already have an account? <a (click)="redirectToLogin()" class="signin-link">Log in.</a> </p>
    <div class="buttons">
      <button mat-raised-button color="primary" type="submit" [disabled]="form.invalid || files.length != 3">Sign up</button>
      <button mat-raised-button color="primary" type="button" [disabled]="files.length === 3" (click)="createImage()">Create an image</button>
      <button mat-raised-button color="primary" type="button" (click)="fileInput.click()">Upload images</button>


    </div>
  </form>
</div>
